<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
  <head>
    <script type="text/javascript" src="config.js"></script>
    <script type="text/javascript" src="microphone.js"></script>
    <script type="text/javascript" src="anomalydetector.js"></script>
    <script type="text/javascript" src="sweepbeepdetector.js"></script>
    <script type="text/javascript" src="spectogram.js"></script>
    <script type="text/javascript" src="distribution.js"></script>
    <script type="text/javascript" src="leastsquares.js"></script>
    <script type="text/javascript" src="queuebeepdetector.js"></script>
    <script type="text/javascript" src="convolve.js"></script>
    <script type="text/javascript" src="canvasgui.js"></script>
    <script>
      window.AudioContext =
        window.AudioContext ||
        window.webkitAudioContext;

      function onDeny(err) {
        alert(err);
      }

      function getLoadEvent() {
        var sol = navigator.userAgent.match(/(iPad|iPhone|iPod)/g) ?
          'touchstart' : 'load';
        return sol;
      }

      window.addEventListener(getLoadEvent(), function() {
        var ctx = new AudioContext(),
          gui = new CanvasGui(document.getElementById('canvas')),
          analyzer = new Convolve(ctx, gui, onDeny);
      }, false);
    </script>
  </head>
  <body>
    <canvas id ="canvas"
      width=960
      height=600
      style="position: absolute; top: 5%; left: 5%">
    </canvas>
  </body>
</html>
